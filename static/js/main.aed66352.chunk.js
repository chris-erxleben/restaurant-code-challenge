(this["webpackJsonprestaurant-code-challenge"]=this["webpackJsonprestaurant-code-challenge"]||[]).push([[0],{48:function(e,t,n){},72:function(e,t,n){"use strict";n.r(t);var r=n(3),c=n(0),a=n.n(c),i=n(17),l=n.n(i),s=(n(48),n(5)),u=n(8),o=n(85),j=n(40),d=n(9),b=n(14),O=n.n(b),h=n(15),f=n.n(h);function x(){var e=Object(u.a)(["\n  margin-right: 5px;\n"]);return x=function(){return e},e}function p(){var e=Object(u.a)(["\n  margin-top: 10px;\n"]);return p=function(){return e},e}var g=d.a.div(p()),v=d.a.button(x()),S=function(e){var t=e.currentPage,n=e.totalResults,c=e.onPreviousPageClick,a=e.onNextPageClick;return Object(r.jsxs)(g,{children:[t>0?Object(r.jsx)(v,{onClick:c,children:"Previous Page"}):null,10*t+10<n?Object(r.jsx)("button",{onClick:a,children:"Next Page"}):null]})},m=n(21),F=n.n(m),C=n(38),w=n(86),A=n(39),k=n.n(A),y={headers:{Authorization:"Api-Key q3MNxtfep8Gt"}},P=function(){var e=Object(C.a)(F.a.mark((function e(){var t,n;return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.a.get("https://code-challenge.spectrumtoolbox.com/api/restaurants",y);case 2:return t=e.sent,n=t.data,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),L=function(){return Object(w.a)(["restaurants"],(function(){return P()}))};function G(){var e=Object(u.a)(["\n  cursor: pointer;\n"]);return G=function(){return e},e}var N=d.a.th(G()),E=function(e){var t=e.selectedStateFilter,n=e.selectedGenreFilter,a=e.selectedAttireFilter,i=e.selectedSearchFilter,l=Object(c.useState)([]),u=Object(s.a)(l,2),o=u[0],j=u[1],d=Object(c.useState)(0),b=Object(s.a)(d,2),h=b[0],x=b[1],p=Object(c.useState)("name"),g=Object(s.a)(p,2),v=g[0],m=g[1],F=Object(c.useState)("asc"),C=Object(s.a)(F,2),w=C[0],A=C[1],k=L(),y=k.data,P=k.isFetching;Object(c.useEffect)((function(){if(y){var e=y;"all"!==t&&(e=e.filter((function(e){return e.state===t}))),"all"!==a&&(e=e.filter((function(e){return e.attire===a}))),"all"!==n&&(e=e.filter((function(e){return e.genre.split(",").includes(n)}))),""!==i&&(e=e.filter((function(e){var t=e.name,n=e.city,r=e.genre;return t.toLowerCase().includes(i.toLowerCase())||n.toLowerCase().includes(i.toLowerCase())||r.split(",").some((function(e){return e.toLowerCase().includes(i.toLowerCase())}))}))),e=e.sort((function(e,t){return e[v].toLowerCase()<t[v].toLowerCase()?"asc"===w?-1:1:e[v].toLowerCase()>t[v].toLowerCase()?"asc"===w?1:-1:0})),x(0),j(e)}}),[y,t,n,a,i,v,w]);var G=function(e){e===v?A("asc"===w?"desc":"asc"):(m(e),A("asc"))};return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsxs)("table",{children:[Object(r.jsx)("thead",{children:Object(r.jsxs)("tr",{children:[Object(r.jsxs)(N,{onClick:function(){return G("name")},children:["Name"," ","name"===v?"asc"===w?Object(r.jsx)(O.a,{}):Object(r.jsx)(f.a,{}):null]}),Object(r.jsxs)(N,{onClick:function(){return G("city")},children:["City"," ","city"===v?"asc"===w?Object(r.jsx)(O.a,{}):Object(r.jsx)(f.a,{}):null]}),Object(r.jsxs)(N,{onClick:function(){return G("state")},children:["State"," ","state"===v?"asc"===w?Object(r.jsx)(O.a,{}):Object(r.jsx)(f.a,{}):null]}),Object(r.jsx)("th",{children:"Phone Number"}),Object(r.jsxs)(N,{onClick:function(){return G("attire")},children:["Attire"," ","attire"===v?"asc"===w?Object(r.jsx)(O.a,{}):Object(r.jsx)(f.a,{}):null]}),Object(r.jsx)("th",{children:"Genres"})]})}),Object(r.jsx)("tbody",{children:P?Object(r.jsx)("tr",{children:Object(r.jsx)("td",{colSpan:6,children:"Loading..."})}):o&&o.length?o.slice(10*h,10*h+10).map((function(e){var t=e.id,n=e.name,c=e.city,a=e.state,i=e.telephone,l=e.attire,s=e.genre;return Object(r.jsxs)("tr",{children:[Object(r.jsx)("td",{children:n}),Object(r.jsx)("td",{children:c}),Object(r.jsx)("td",{children:a}),Object(r.jsx)("td",{children:i}),Object(r.jsx)("td",{children:l}),Object(r.jsx)("td",{children:s.replace(/,/g,", ")})]},t)})):Object(r.jsx)("tr",{children:Object(r.jsx)("td",{colSpan:6,children:"No results found..."})})})]}),Object(r.jsx)(S,{currentPage:h,totalResults:o.length,onNextPageClick:function(){x(h+1)},onPreviousPageClick:function(){x(h-1)}})]})};function q(){var e=Object(u.a)(["\n  min-width: 200px;\n  margin-left: 5px;\n  margin-right: 2px;\n"]);return q=function(){return e},e}function B(){var e=Object(u.a)(["\n  min-width: 150px;\n  margin-left: 5px;\n  margin-right: 15px;\n"]);return B=function(){return e},e}function I(){var e=Object(u.a)(["\n  padding-top: 15px;\n  padding-bottom: 15px;\n"]);return I=function(){return e},e}var J=d.a.div(I()),K=d.a.select(B()),M=d.a.input(q()),R=function(e){var t=e.selectedStateFilter,n=e.selectedGenreFilter,a=e.selectedAttireFilter,i=e.setSelectedStateFilter,l=e.setSelectedGenreFilter,u=e.setSelectedSearchFilter,o=e.setSelectedAttireFilter,j=Object(c.useState)([]),d=Object(s.a)(j,2),b=d[0],O=d[1],h=Object(c.useState)([]),f=Object(s.a)(h,2),x=f[0],p=f[1],g=Object(c.useState)([]),v=Object(s.a)(g,2),S=v[0],m=v[1],F=Object(c.useState)(""),C=Object(s.a)(F,2),w=C[0],A=C[1],k=L().data;Object(c.useEffect)((function(){if(k){var e=new Set,t=new Set,n=new Set;k.forEach((function(r){var c=r.state,a=r.genre,i=r.attire;e.add(c),n.add(i),a.split(",").forEach((function(e){t.add(e)}))})),O(Array.from(e)),p(Array.from(t)),m(Array.from(n))}}),[k]);return Object(r.jsxs)(J,{children:[Object(r.jsx)("label",{htmlFor:"state-filter",children:"State:"}),Object(r.jsxs)(K,{name:"states",id:"state-filter",value:t,onChange:function(e){var t=e.target.value;i(t)},children:[Object(r.jsx)("option",{value:"all",children:"All"}),b.map((function(e,t){return Object(r.jsx)("option",{value:e,children:e},t)}))]}),Object(r.jsx)("label",{htmlFor:"genre-filter",children:"Genre:"}),Object(r.jsxs)(K,{name:"genres",id:"genre-filter",value:n,onChange:function(e){var t=e.target.value;l(t)},children:[Object(r.jsx)("option",{value:"all",children:"All"}),x.map((function(e,t){return Object(r.jsx)("option",{value:e,children:e},t)}))]}),Object(r.jsx)("label",{htmlFor:"attire-filter",children:"Attire:"}),Object(r.jsxs)(K,{name:"attires",id:"attire-filter",value:a,onChange:function(e){var t=e.target.value;o(t)},children:[Object(r.jsx)("option",{value:"all",children:"All"}),S.map((function(e,t){return Object(r.jsx)("option",{value:e,children:e},t)}))]}),Object(r.jsx)("label",{htmlFor:"search-filter",children:"Search:"}),Object(r.jsx)(M,{type:"text",onKeyPress:function(e){"Enter"===e.key&&u(w)},value:w,onChange:function(e){var t=e.target.value;A(t)}}),Object(r.jsx)("button",{onClick:function(){u(w)},children:"Search"})]})};function T(){var e=Object(u.a)(["\n  padding-left: 10px;\n  padding-right: 10px;\n"]);return T=function(){return e},e}var z=new o.a({defaultOptions:{queries:{refetchOnWindowFocus:!1}}}),D=d.a.div(T()),W=function(){var e=Object(c.useState)("all"),t=Object(s.a)(e,2),n=t[0],a=t[1],i=Object(c.useState)("all"),l=Object(s.a)(i,2),u=l[0],o=l[1],d=Object(c.useState)("all"),b=Object(s.a)(d,2),O=b[0],h=b[1],f=Object(c.useState)(""),x=Object(s.a)(f,2),p=x[0],g=x[1];return Object(r.jsx)(j.a,{client:z,children:Object(r.jsxs)(D,{children:[Object(r.jsx)(R,{selectedStateFilter:n,selectedGenreFilter:u,selectedAttireFilter:O,setSelectedStateFilter:a,setSelectedGenreFilter:o,setSelectedAttireFilter:h,setSelectedSearchFilter:g}),Object(r.jsx)(E,{selectedStateFilter:n,selectedGenreFilter:u,selectedSearchFilter:p,selectedAttireFilter:O})]})})},H=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,87)).then((function(t){var n=t.getCLS,r=t.getFID,c=t.getFCP,a=t.getLCP,i=t.getTTFB;n(e),r(e),c(e),a(e),i(e)}))};l.a.render(Object(r.jsx)(a.a.StrictMode,{children:Object(r.jsx)(W,{})}),document.getElementById("root")),H()}},[[72,1,2]]]);
//# sourceMappingURL=main.aed66352.chunk.js.map